2018-08-17T15:30:51.8097099+02:00 0HLG48MJ6PH9I:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:54102/  0 (ca22a1cb)
2018-08-17T15:30:51.8097178+02:00 0HLG48MJ6PH9J:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:54102/   (ca22a1cb)
2018-08-17T15:30:52.5624302+02:00 0HLG48MJ6PH9I:00000001 [INF] Request finished in 449.104ms 200  (791a596a)
2018-08-17T15:30:55.2129370+02:00 0HLG48MJ6PH9J:00000001 [INF] Request finished in 3528.0602ms 404  (791a596a)
2018-08-17T18:05:41.2717532+02:00  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"MemberContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-08-17T18:05:58.9502346+02:00  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"MemberContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-08-17T18:06:10.2690316+02:00  [INF] Executed DbCommand ("69"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""CREATE DATABASE [MarvinDB];" (0723d8ff)
2018-08-17T18:06:10.6350532+02:00  [INF] Executed DbCommand ("364"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""IF SERVERPROPERTY('EngineEdition') <> 5 EXEC(N'ALTER DATABASE [MarvinDB] SET READ_COMMITTED_SNAPSHOT ON;');" (0723d8ff)
2018-08-17T18:06:10.7566199+02:00  [INF] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);" (0723d8ff)
2018-08-17T18:06:10.7635005+02:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');" (0723d8ff)
2018-08-17T18:06:10.7663960+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2018-08-17T18:06:10.7728092+02:00  [INF] Applying migration '"20180817160541_InitMigrateMate"'. (0e2ac64d)
2018-08-17T18:06:10.8447845+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180817160541_InitMigrateMate', N'2.0.1-rtm-125');" (0723d8ff)
2018-08-17T18:08:39.1740018+02:00  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"MemberContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-08-17T18:09:00.9612708+02:00  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"MemberContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-08-17T18:09:12.5224753+02:00  [INF] Executed DbCommand ("324"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""CREATE DATABASE [MarvinDB];" (0723d8ff)
2018-08-17T18:09:13.0868253+02:00  [INF] Executed DbCommand ("563"ms) [Parameters=[""], CommandType='Text', CommandTimeout='60']"
""IF SERVERPROPERTY('EngineEdition') <> 5 EXEC(N'ALTER DATABASE [MarvinDB] SET READ_COMMITTED_SNAPSHOT ON;');" (0723d8ff)
2018-08-17T18:09:13.1941405+02:00  [INF] Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);" (0723d8ff)
2018-08-17T18:09:13.2019657+02:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'__EFMigrationsHistory');" (0723d8ff)
2018-08-17T18:09:13.2148703+02:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2018-08-17T18:09:13.2210166+02:00  [INF] Applying migration '"20180817160839_InitMigrateMate"'. (0e2ac64d)
2018-08-17T18:09:13.3661648+02:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Attendances] (
    [Id] bigint NOT NULL IDENTITY,
    [DayOff] int NOT NULL,
    [Late] int NOT NULL,
    [SickUnverified] int NOT NULL,
    [SickVerified] int NOT NULL,
    CONSTRAINT [PK_Attendances] PRIMARY KEY ([Id])
);" (0723d8ff)
2018-08-17T18:09:13.3999433+02:00  [INF] Executed DbCommand ("33"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Departments] (
    [Id] bigint NOT NULL IDENTITY,
    [Address] nvarchar(max) NULL,
    [Country] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [ZipNumber] nvarchar(max) NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([Id])
);" (0723d8ff)
2018-08-17T18:09:13.4029425+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Cohorts] (
    [Id] bigint NOT NULL IDENTITY,
    [DepartmentId] bigint NULL,
    [FinishDate] datetime2 NOT NULL,
    [Name] nvarchar(max) NULL,
    [StartDate] datetime2 NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Cohorts] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Cohorts_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);" (0723d8ff)
2018-08-17T18:09:13.4160766+02:00  [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Courses] (
    [Id] bigint NOT NULL IDENTITY,
    [DepartmentId] bigint NULL,
    [Name] nvarchar(max) NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Courses] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Courses_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);" (0723d8ff)
2018-08-17T18:09:13.4190917+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Projects] (
    [Id] bigint NOT NULL IDENTITY,
    [DepartmentId] bigint NULL,
    [Description] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    CONSTRAINT [PK_Projects] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Projects_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([Id]) ON DELETE NO ACTION
);" (0723d8ff)
2018-08-17T18:09:13.7766089+02:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Profiles] (
    [Id] bigint NOT NULL IDENTITY,
    [AttendanceInfoId] bigint NULL,
    [ClassApprenticeId] bigint NULL,
    [CohortApprenticeId] bigint NULL,
    [DateOfBirth] datetime2 NOT NULL,
    [Education] int NOT NULL,
    [Email] nvarchar(max) NULL,
    [Gender] int NOT NULL,
    [GitHubUser] nvarchar(max) NULL,
    [IsSigned] bit NOT NULL,
    [Level] int NOT NULL,
    [LinkedIn] nvarchar(max) NULL,
    [Name] nvarchar(max) NULL,
    [Payment] int NOT NULL,
    [Phase] int NOT NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [Picture] nvarchar(max) NULL,
    [ProjectId] bigint NULL,
    [SlackUser] nvarchar(max) NULL,
    [TeamApprenticeId] bigint NULL,
    CONSTRAINT [PK_Profiles] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Profiles_Attendances_AttendanceInfoId] FOREIGN KEY ([AttendanceInfoId]) REFERENCES [Attendances] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Profiles_Cohorts_CohortApprenticeId] FOREIGN KEY ([CohortApprenticeId]) REFERENCES [Cohorts] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Profiles_Projects_ProjectId] FOREIGN KEY ([ProjectId]) REFERENCES [Projects] ([Id]) ON DELETE NO ACTION
);" (0723d8ff)
2018-08-17T18:09:13.7950784+02:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Classes] (
    [Id] bigint NOT NULL IDENTITY,
    [CalendarId] bigint NOT NULL,
    [ClassAdminId] bigint NULL,
    [ClassLeadId] bigint NULL,
    [CohortId] bigint NULL,
    [Color] nvarchar(max) NULL,
    [CourseId] bigint NULL,
    [Name] nvarchar(max) NULL,
    [SlackChannelId] bigint NOT NULL,
    [Status] int NOT NULL,
    CONSTRAINT [PK_Classes] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Classes_Profiles_ClassAdminId] FOREIGN KEY ([ClassAdminId]) REFERENCES [Profiles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Classes_Profiles_ClassLeadId] FOREIGN KEY ([ClassLeadId]) REFERENCES [Profiles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Classes_Cohorts_CohortId] FOREIGN KEY ([CohortId]) REFERENCES [Cohorts] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Classes_Courses_CourseId] FOREIGN KEY ([CourseId]) REFERENCES [Courses] ([Id]) ON DELETE NO ACTION
);" (0723d8ff)
2018-08-17T18:09:15.1191936+02:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [JobHistories] (
    [Id] bigint NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    [ProfileId] bigint NULL,
    CONSTRAINT [PK_JobHistories] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_JobHistories_Profiles_ProfileId] FOREIGN KEY ([ProfileId]) REFERENCES [Profiles] ([Id]) ON DELETE NO ACTION
);" (0723d8ff)
2018-08-17T18:09:15.1891377+02:00  [INF] Executed DbCommand ("69"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Teams] (
    [Id] bigint NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    [ProductOwnerId] bigint NULL,
    [ProjectId] bigint NULL,
    [ScrumMasterId] bigint NULL,
    CONSTRAINT [PK_Teams] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Teams_Profiles_ProductOwnerId] FOREIGN KEY ([ProductOwnerId]) REFERENCES [Profiles] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Teams_Projects_ProjectId] FOREIGN KEY ([ProjectId]) REFERENCES [Projects] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Teams_Profiles_ScrumMasterId] FOREIGN KEY ([ScrumMasterId]) REFERENCES [Profiles] ([Id]) ON DELETE NO ACTION
);" (0723d8ff)
2018-08-17T18:09:16.3582314+02:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [ClassProfile] (
    [ClassId] bigint NOT NULL,
    [ProfileId] bigint NOT NULL,
    CONSTRAINT [PK_ClassProfile] PRIMARY KEY ([ClassId], [ProfileId]),
    CONSTRAINT [FK_ClassProfile_Classes_ClassId] FOREIGN KEY ([ClassId]) REFERENCES [Classes] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_ClassProfile_Profiles_ProfileId] FOREIGN KEY ([ProfileId]) REFERENCES [Profiles] ([Id]) ON DELETE CASCADE
);" (0723d8ff)
2018-08-17T18:09:16.3662189+02:00  [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Classes_ClassAdminId] ON [Classes] ([ClassAdminId]);" (0723d8ff)
2018-08-17T18:09:16.3675793+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Classes_ClassLeadId] ON [Classes] ([ClassLeadId]);" (0723d8ff)
2018-08-17T18:09:16.3740768+02:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Classes_CohortId] ON [Classes] ([CohortId]);" (0723d8ff)
2018-08-17T18:09:16.3756784+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Classes_CourseId] ON [Classes] ([CourseId]);" (0723d8ff)
2018-08-17T18:09:16.3770368+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_ClassProfile_ProfileId] ON [ClassProfile] ([ProfileId]);" (0723d8ff)
2018-08-17T18:09:16.3784937+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Cohorts_DepartmentId] ON [Cohorts] ([DepartmentId]);" (0723d8ff)
2018-08-17T18:09:17.3637838+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Courses_DepartmentId] ON [Courses] ([DepartmentId]);" (0723d8ff)
2018-08-17T18:09:17.3677929+02:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_JobHistories_ProfileId] ON [JobHistories] ([ProfileId]);" (0723d8ff)
2018-08-17T18:09:17.3691276+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Profiles_AttendanceInfoId] ON [Profiles] ([AttendanceInfoId]);" (0723d8ff)
2018-08-17T18:09:17.3704829+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Profiles_ClassApprenticeId] ON [Profiles] ([ClassApprenticeId]);" (0723d8ff)
2018-08-17T18:09:17.3767872+02:00  [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Profiles_CohortApprenticeId] ON [Profiles] ([CohortApprenticeId]);" (0723d8ff)
2018-08-17T18:09:17.3780556+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Profiles_ProjectId] ON [Profiles] ([ProjectId]);" (0723d8ff)
2018-08-17T18:09:17.3795093+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Profiles_TeamApprenticeId] ON [Profiles] ([TeamApprenticeId]);" (0723d8ff)
2018-08-17T18:09:17.3813161+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Projects_DepartmentId] ON [Projects] ([DepartmentId]);" (0723d8ff)
2018-08-17T18:09:17.3828663+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Teams_ProductOwnerId] ON [Teams] ([ProductOwnerId]);" (0723d8ff)
2018-08-17T18:09:17.3839967+02:00  [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Teams_ProjectId] ON [Teams] ([ProjectId]);" (0723d8ff)
2018-08-17T18:09:18.4950547+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Teams_ScrumMasterId] ON [Teams] ([ScrumMasterId]);" (0723d8ff)
2018-08-17T18:09:18.4981888+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Profiles] ADD CONSTRAINT [FK_Profiles_Classes_ClassApprenticeId] FOREIGN KEY ([ClassApprenticeId]) REFERENCES [Classes] ([Id]) ON DELETE NO ACTION;" (0723d8ff)
2018-08-17T18:09:18.4999069+02:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Profiles] ADD CONSTRAINT [FK_Profiles_Teams_TeamApprenticeId] FOREIGN KEY ([TeamApprenticeId]) REFERENCES [Teams] ([Id]) ON DELETE NO ACTION;" (0723d8ff)
2018-08-17T18:09:18.5022030+02:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20180817160839_InitMigrateMate', N'2.0.1-rtm-125');" (0723d8ff)
